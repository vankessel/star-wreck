[gd_scene load_steps=9 format=3 uid="uid://dsrd3np32lxtf"]

[ext_resource type="Texture2D" uid="uid://cuydipn50mwqd" path="res://sprites/background.png" id="1_88i7p"]
[ext_resource type="PackedScene" uid="uid://byvdby8yhdl5i" path="res://prefabs/player.tscn" id="1_o5qli"]
[ext_resource type="PackedScene" uid="uid://c4r5jdkf2amv8" path="res://prefabs/player_camera.tscn" id="2_0wfyh"]
[ext_resource type="Script" uid="uid://b2shq2gjd4fvt" path="res://addons/ropesim/Rope.gd" id="10_choun"]
[ext_resource type="Script" uid="uid://dvxegqp0cf77n" path="res://addons/ropesim/RopeInteraction.gd" id="11_ya4ey"]

[sub_resource type="CircleShape2D" id="CircleShape2D_85g3d"]
radius = 32.0

[sub_resource type="Gradient" id="Gradient_choun"]
interpolation_mode = 1
colors = PackedColorArray(0, 0, 0, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_ya4ey"]
gradient = SubResource("Gradient_choun")
fill = 1
fill_from = Vector2(0.5, 0.5)
fill_to = Vector2(0.5, 0)
metadata/_snap_enabled = true

[node name="Node" type="Node"]

[node name="TextureRect" type="TextureRect" parent="."]
offset_left = -627.0
offset_top = -464.0
offset_right = 673.0
offset_bottom = 536.0
texture = ExtResource("1_88i7p")

[node name="Player" parent="." node_paths=PackedStringArray("_camera") instance=ExtResource("1_o5qli")]
mass = 100.0
_camera = NodePath("../PlayerCamera")

[node name="PlayerCamera" parent="." node_paths=PackedStringArray("_player") instance=ExtResource("2_0wfyh")]
_player = NodePath("../Player")

[node name="Ball" type="RigidBody2D" parent="."]
position = Vector2(0, 200)
mass = 10.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Ball"]
shape = SubResource("CircleShape2D_85g3d")

[node name="Sprite2D" type="Sprite2D" parent="Ball"]
texture = SubResource("GradientTexture2D_ya4ey")

[node name="Marker2D" type="Marker2D" parent="Ball"]
position = Vector2(0, -32)

[node name="RopeEndBody" type="CharacterBody2D" parent="Ball/Marker2D"]
collision_layer = 0
collision_mask = 0
motion_mode = 1

[node name="PinJoint2D" type="PinJoint2D" parent="Ball/Marker2D"]
node_a = NodePath("../..")
node_b = NodePath("../RopeEndBody")
softness = 0.05

[node name="Rope" type="Node2D" parent="."]
position = Vector2(0, 24)
script = ExtResource("10_choun")
rope_length = 300.0
gravity = 0.0
gravity_direction = Vector2(0, 0)
fixate_begin = false

[node name="PlayerAttachment" type="Node" parent="Rope" node_paths=PackedStringArray("target_node", "input_node_override", "rope")]
script = ExtResource("11_ya4ey")
disable_in_editor = true
position_update_mode = 0
target_node = NodePath("../../Player/RopeStart/RopeStartBody")
input_node_override = NodePath("../../Player/RopeStart/PinJoint2D")
rope = NodePath("..")
rope_position = 0.0

[node name="BallAttachment" type="Node" parent="Rope" node_paths=PackedStringArray("target_node", "input_node_override", "rope")]
script = ExtResource("11_ya4ey")
disable_in_editor = true
position_update_mode = 0
target_node = NodePath("../../Ball/Marker2D/RopeEndBody")
input_node_override = NodePath("../../Ball/Marker2D/PinJoint2D")
rope = NodePath("..")
